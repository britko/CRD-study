# CRD í•™ìŠµ í”„ë¡œì íŠ¸ ê°œìš”

## ğŸ¯ í”„ë¡œì íŠ¸ ëª©í‘œ

ì´ í”„ë¡œì íŠ¸ëŠ” Kubernetes CRD(Custom Resource Definition)ì— ëŒ€í•œ ì²´ê³„ì ì¸ í•™ìŠµì„ ìœ„í•œ ê²ƒì…ë‹ˆë‹¤. ë‹¨ê³„ë³„ë¡œ CRDì˜ ê°œë…ì„ ì´í•´í•˜ê³ , ì‹¤ì œë¡œ ê°œë°œí•˜ê³  ë°°í¬í•´ë³´ë©´ì„œ ì‹¤ë¬´ì— í•„ìš”í•œ ì—­ëŸ‰ì„ ê¸°ë¥¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤.

## ğŸ“š í•™ìŠµ ë¡œë“œë§µ

### ğŸ¥‡ ì´ˆê¸‰ ë‹¨ê³„ (1-3ì£¼)
- **CRD ê¸°ë³¸ ê°œë… ì´í•´**
  - Kubernetes API í™•ì¥ì˜ ê°œë…
  - CRD vs Aggregated API
  - OpenAPI ìŠ¤í‚¤ë§ˆ ì´í•´
  
- **ê°œë°œ í™˜ê²½ êµ¬ì¶•**
  - kubectl, Go, kubebuilder ì„¤ì¹˜
  - ë¡œì»¬ Kubernetes í´ëŸ¬ìŠ¤í„° ì„¤ì • (kind/minikube)
  
- **ì²« ë²ˆì§¸ CRD ë§Œë“¤ê¸°**
  - ê°„ë‹¨í•œ CRD ì •ì˜ ì‘ì„±
  - CRD ë°°í¬ ë° í…ŒìŠ¤íŠ¸
  - Custom Resource ìƒì„± ë° ê´€ë¦¬

### ğŸ¥ˆ ì¤‘ê¸‰ ë‹¨ê³„ (4-6ì£¼)
- **kubebuilder í”„ë ˆì„ì›Œí¬ í™œìš©**
  - kubebuilder í”„ë¡œì íŠ¸ êµ¬ì¡° ì´í•´
  - API íƒ€ì… ì •ì˜ ë° ìƒì„±
  - ì»¨íŠ¸ë¡¤ëŸ¬ ê¸°ë³¸ êµ¬ì¡°
  
- **ì»¨íŠ¸ë¡¤ëŸ¬ ê°œë°œ**
  - Reconcile ë£¨í”„ ì´í•´
  - ìƒíƒœ ê´€ë¦¬ ë° ì´ë²¤íŠ¸ ì²˜ë¦¬
  - ì—ëŸ¬ í•¸ë“¤ë§ ë° ì¬ì‹œë„ ë¡œì§

### ğŸ¥‰ ê³ ê¸‰ ë‹¨ê³„ (7-10ì£¼)
- **ê³ ê¸‰ CRD ê¸°ëŠ¥**
  - ì›¹í›… êµ¬í˜„ (Validating/Mutating)
  - ê¸°ë³¸ê°’ ì„¤ì • ë° ê²€ì¦
  - CRD ë²„ì „ ê´€ë¦¬ ë° ë§ˆì´ê·¸ë ˆì´ì…˜
  
- **í”„ë¡œë•ì…˜ í™˜ê²½ ê³ ë ¤ì‚¬í•­**
  - ë³´ì•ˆ ë° ê¶Œí•œ ê´€ë¦¬
  - ëª¨ë‹ˆí„°ë§ ë° ë¡œê¹…
  - ì„±ëŠ¥ ìµœì í™”

## ğŸ—ï¸ í”„ë¡œì íŠ¸ êµ¬ì¡°

```
CRD-study/
â”œâ”€â”€ README.md                           # í”„ë¡œì íŠ¸ ë©”ì¸ ë¬¸ì„œ
â”œâ”€â”€ Makefile                            # ë¹Œë“œ ë° ë°°í¬ ìë™í™”
â””â”€â”€ docs/                               # í•™ìŠµ ë¬¸ì„œ
    â”œâ”€â”€ 00-overview.md                 # í”„ë¡œì íŠ¸ ê°œìš” (í˜„ì¬ ë¬¸ì„œ)
    â”œâ”€â”€ 01-basic-concepts.md           # CRD ê¸°ë³¸ ê°œë…
    â”œâ”€â”€ 02-environment-setup.md        # ê°œë°œ í™˜ê²½ ì„¤ì •
    â”œâ”€â”€ 03-first-crd.md                # ì²« ë²ˆì§¸ CRD ë§Œë“¤ê¸°
    â”œâ”€â”€ 04-kubebuilder-guide.md        # kubebuilder ì‚¬ìš©ë²• (í”„ë¡œì íŠ¸ ìƒì„±)
    â”œâ”€â”€ 05-controller-development.md   # ì»¨íŠ¸ë¡¤ëŸ¬ ê°œë°œ
    â”œâ”€â”€ 06-webhooks.md                 # ì›¹í›… êµ¬í˜„
    â”œâ”€â”€ 06a-performance-optimization.md # ì›¹í›… ì„±ëŠ¥ ìµœì í™”
    â”œâ”€â”€ 07-validation-defaulting.md    # ê²€ì¦ ë° ê¸°ë³¸ê°’
    â”œâ”€â”€ 08-versioning.md               # CRD ë²„ì „ ê´€ë¦¬
    â””â”€â”€ 09-database-operator-project.md # ì‹¤ë¬´ í”„ë¡œì íŠ¸ (Database Operator)
```

### ğŸ“ ì°¸ê³ ì‚¬í•­

- **04ë‹¨ê³„ì—ì„œ í”„ë¡œì íŠ¸ ìƒì„±**: `04-kubebuilder-guide.md`ì—ì„œ `advanced-crd-project` ë””ë ‰í† ë¦¬ë¥¼ ìƒì„±í•©ë‹ˆë‹¤
- **ì‹¤ìŠµ ì¤‘ì‹¬**: ê° ë‹¨ê³„ë³„ë¡œ ì‹¤ì œ í”„ë¡œì íŠ¸ë¥¼ ë§Œë“¤ë©´ì„œ í•™ìŠµí•©ë‹ˆë‹¤
- **ì ì§„ì  í•™ìŠµ**: ê°„ë‹¨í•œ CRDë¶€í„° ì‹œì‘í•´ì„œ ì ì  ë³µì¡í•œ ê¸°ëŠ¥ì„ ì¶”ê°€í•©ë‹ˆë‹¤



## ğŸ“– í•™ìŠµ ìë£Œ

### ê³µì‹ ë¬¸ì„œ
- [Kubernetes CRD ê³µì‹ ë¬¸ì„œ](https://kubernetes.io/docs/concepts/extend-kubernetes/api-extension/custom-resources/)
- [kubebuilder ê³µì‹ ê°€ì´ë“œ](https://book.kubebuilder.io/)
- [Kubernetes API ì»¨ë²¤ì…˜](https://github.com/kubernetes/community/blob/master/contributors/devel/sig-architecture/api-conventions.md)

### ì¶”ê°€ ìë£Œ
- [Kubernetes Patterns](https://www.oreilly.com/library/view/kubernetes-patterns/9781492050278/)
- [Programming Kubernetes](https://www.oreilly.com/library/view/programming-kubernetes/9781492047094/)

## ğŸ¯ ì‹¤ìŠµ ëª©í‘œ

ê° ë‹¨ê³„ë³„ë¡œ ë‹¤ìŒì„ ë‹¬ì„±í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤:

1. **ê¸°ë³¸ ê°œë…**: CRDì˜ ë™ì‘ ì›ë¦¬ì™€ Kubernetes API í™•ì¥ ë©”ì»¤ë‹ˆì¦˜ ì´í•´
2. **ê°œë°œ í™˜ê²½**: ë¡œì»¬ì—ì„œ CRD ê°œë°œ ë° í…ŒìŠ¤íŠ¸ê°€ ê°€ëŠ¥í•œ í™˜ê²½ êµ¬ì¶•
3. **ì‹¤ìŠµ ê²½í—˜**: ì‹¤ì œ CRDë¥¼ ë§Œë“¤ê³  ë°°í¬í•´ë³´ëŠ” ê²½í—˜
4. **í”„ë¡œë•ì…˜ ì¤€ë¹„**: ì‹¤ì œ ìš´ì˜ í™˜ê²½ì—ì„œ ì‚¬ìš©í•  ìˆ˜ ìˆëŠ” CRD ê°œë°œ ëŠ¥ë ¥

## ğŸ¤ ê¸°ì—¬ ë° í”¼ë“œë°±

ì´ í”„ë¡œì íŠ¸ëŠ” í•™ìŠµ ëª©ì ìœ¼ë¡œ ë§Œë“¤ì–´ì¡ŒìŠµë‹ˆë‹¤. ê°œì„  ì‚¬í•­ì´ë‚˜ ì¶”ê°€í•˜ê³  ì‹¶ì€ ë‚´ìš©ì´ ìˆë‹¤ë©´:

1. Issue ìƒì„±
2. Pull Request ì œì¶œ
3. ë¬¸ì„œ ê°œì„  ì œì•ˆ

ëª¨ë“  ê¸°ì—¬ë¥¼ í™˜ì˜í•©ë‹ˆë‹¤!

## ğŸ“ í•™ìŠµ ìˆœì„œ

### ğŸ¥‡ ê¸°ì´ˆ ë‹¨ê³„
- [CRD ê¸°ë³¸ ê°œë…](./01-basic-concepts.md) - CRDì˜ ê¸°ë³¸ ê°œë…ë¶€í„° ì‹œì‘
- [ê°œë°œ í™˜ê²½ ì„¤ì •](./02-environment-setup.md) - ê°œë°œ í™˜ê²½ êµ¬ì¶•
- [ì²« ë²ˆì§¸ CRD ë§Œë“¤ê¸°](./03-first-crd.md) - ì‹¤ì œ CRD ê°œë°œ ì‹¤ìŠµ

### ğŸ¥ˆ ì‹¤ìŠµ ë‹¨ê³„
- [kubebuilder ê°€ì´ë“œ](./04-kubebuilder-guide.md) - kubebuilder í”„ë ˆì„ì›Œí¬ í™œìš©
- [ì»¨íŠ¸ë¡¤ëŸ¬ ê°œë°œ](./05-controller-development.md) - Website Controller êµ¬í˜„
- [ì›¹í›… êµ¬í˜„](./06-webhooks.md) - Mutating/Validating Webhook ê°œë°œ
- [ì›¹í›… ì„±ëŠ¥ ìµœì í™”](./06a-performance-optimization.md) - ê³ ê¸‰ ì›¹í›… ìµœì í™” ê¸°ë²•

### ğŸ¥‰ ê³ ê¸‰ ë‹¨ê³„
- [ê²€ì¦ ë° ê¸°ë³¸ê°’](./07-validation-defaulting.md) - OpenAPI ìŠ¤í‚¤ë§ˆ ê²€ì¦
- [CRD ë²„ì „ ê´€ë¦¬](./08-versioning.md) - API ë²„ì „ ê´€ë¦¬ ì „ëµ
- [Database Operator í”„ë¡œì íŠ¸](./09-database-operator-project.md) - ì‹¤ë¬´ í”„ë¡œì íŠ¸ (ìš”êµ¬ì‚¬í•­ ê¸°ë°˜ í•™ìŠµ)

## ğŸ¯ ì‹¤ìŠµ í”„ë¡œì íŠ¸

ì´ í”„ë¡œì íŠ¸ì—ì„œëŠ” **Website CRD**ë¥¼ ì¤‘ì‹¬ìœ¼ë¡œ í•™ìŠµí•©ë‹ˆë‹¤:

### ğŸ“š í•™ìŠµ ë‹¨ê³„ë³„ í”„ë¡œì íŠ¸
- **01-03ë‹¨ê³„**: ê¸°ë³¸ ê°œë… ì´í•´ ë° ê°„ë‹¨í•œ CRD ì‹¤ìŠµ
- **04ë‹¨ê³„**: `advanced-crd-project` ìƒì„± (kubebuilder í”„ë¡œì íŠ¸)
- **05-08ë‹¨ê³„**: Website CRD ê°œë°œ (Controller, Webhook, ê²€ì¦ ë“±)
- **09ë‹¨ê³„**: Database Operator í”„ë¡œì íŠ¸ (ì‹¤ë¬´ í”„ë¡œì íŠ¸)

### ğŸ—ï¸ 04ë‹¨ê³„ ì´í›„ í”„ë¡œì íŠ¸ êµ¬ì¡°
```
advanced-crd-project/              # 04ë‹¨ê³„ì—ì„œ ìƒì„±
â”œâ”€â”€ api/v1/                        # CRD API ì •ì˜
â”‚   â”œâ”€â”€ website_types.go           # Website CRD ìŠ¤í‚¤ë§ˆ
â”‚   â””â”€â”€ zz_generated.deepcopy.go   # ìë™ ìƒì„± ì½”ë“œ
â”œâ”€â”€ internal/                      # ë‚´ë¶€ êµ¬í˜„
â”‚   â”œâ”€â”€ controller/                # Website Controller
â”‚   â””â”€â”€ webhook/                   # Mutating/Validating Webhooks
â”œâ”€â”€ config/                        # ë°°í¬ ì„¤ì •
â”‚   â”œâ”€â”€ crd/                       # CRD ë§¤ë‹ˆí˜ìŠ¤íŠ¸
â”‚   â”œâ”€â”€ rbac/                      # RBAC ì„¤ì •
â”‚   â”œâ”€â”€ webhook/                   # Webhook ì„¤ì •
â”‚   â””â”€â”€ samples/                   # ì˜ˆì œ ë¦¬ì†ŒìŠ¤
â”œâ”€â”€ test/                          # í…ŒìŠ¤íŠ¸ ì½”ë“œ
â”‚   â”œâ”€â”€ e2e/                       # E2E í…ŒìŠ¤íŠ¸
â”‚   â””â”€â”€ utils/                     # í…ŒìŠ¤íŠ¸ ìœ í‹¸ë¦¬í‹°
â””â”€â”€ cmd/main.go                    # ë©”ì¸ ì• í”Œë¦¬ì¼€ì´ì…˜
```